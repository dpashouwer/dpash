devtools::load_all(".")
# Load packagaes
if (!require("pacman")) install.packages("pacman"); library(pacman)
if (!require("formidabler")) devtools::install_github("dpashouwer/formidabler"); library(formidabler)
if (!require("dpash")) devtools::install_github("dpashouwer/dpash"); library(dpash)
if(!require("tntpr")) devtools::install_git("https://tools.tntp.org/bitbucket/scm/ct/tntpr.git"); p_load(tntpr)
p_load(tidyverse, janitor, httr, stringr, jsonlite, lubridate, mschart, officer, here)
obs_data <- read_csv("~/BitBucket/florida-hub/academics/Brevard Walk-throughs/data/clean/obs_data_2018-10-19 13.58.csv")
obs_data <- read_csv("~/BitBucket/florida-hub/academics/Brevard Walk-throughs/data/clean/obs_data_2018-10-22 08.32.csv")
svy_data <- obs_data %>%
gather(question, response, culture_1_expect:culture_6_redirect) %>%
select(question, response) %>%
filter(!is.na(question), !is.na(response))
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Mathiba is beautiful", coord_flip = TRUE, labels = "n")
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Mathiba is beautiful", labels = "n")
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Mathiba is beautiful", labels = "n") +
coord_flip()
devtools::load_all(".")
devtools::load_all(".")
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Mathiba is beautiful", labels = "n") +
coord_flip()
devtools::load_all(".")
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Mathiba is beautiful", labels = "n") +
coord_flip()
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Mathiba is beautiful", labels = "n")
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n")
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n")
devtools::load_all(".")
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n")
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n") +
coord_flip()
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n") +
coord_flip()
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n")
devtools::load_all(".")
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n")
# Load packagaes
if (!require("pacman")) install.packages("pacman"); library(pacman)
if (!require("formidabler")) devtools::install_github("dpashouwer/formidabler"); library(formidabler)
if (!require("dpash")) devtools::install_github("dpashouwer/dpash"); library(dpash)
if(!require("tntpr")) devtools::install_git("https://tools.tntp.org/bitbucket/scm/ct/tntpr.git"); p_load(tntpr)
p_load(tidyverse, janitor, httr, stringr, jsonlite, lubridate, mschart, officer, here)
obs_data <- read_csv("~/BitBucket/florida-hub/academics/Brevard Walk-throughs/data/clean/obs_data_2018-10-22 08.32.csv")
svy_data <- obs_data %>%
gather(question, response, culture_1_expect:culture_6_redirect) %>%
select(question, response) %>%
filter(!is.na(question), !is.na(response))
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n")
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n") +
coord_flip()
devtools::load_all(".")
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n") +
coord_flip()
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n")
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n") +
theme(legend.position = "right")
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n")
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n", xlab = "Questions")
devtools::load_all(".")
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n", xlab = "Questions")
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n", xlab = "Questions") +
coord_flip()
devtools::load_all(".")
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n", xlab = "Questions") +
coord_flip()
devtools::load_all(".")
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n", xlab = "Questions") +
coord_flip()
devtools::load_all(".")
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n", xlab = "Questions") +
coord_flip()
devtools::load_all(".")
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n", xlab = "Questions") +
coord_flip()
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n", xlab = "Questions")
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n", xlab = "Questions") +
theme(legend.position = "right")
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n", xlab = "Questions") +
theme(legend.position = "right") +
coord_flip()
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n", xlab = "Questions") +
coord_flip()
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n", xlab = "Questions")
svy_data %>%
bar_chart_counts(response)
svy_data %>%
bar_chart_counts(response, question)
svy_data %>%
bar_chart_counts(question, response)
svy_data %>%
dpash::bar_chart_stack(xvar = question, yvar = response, title = "Test", labels = "n", xlab = "Questions")
svy_data %>%
bar_chart_counts(response)
svy_data %>%
dpash::bar_chart_stack(response, title = "Test", labels = "n", xlab = "Questions")
svy_data %>%
bar_chart_counts(response)
svy_data %>%
bar_chart_counts(question, response)
svy_data %>%
bar_chart_counts(group_var = question, var = response)
devtools::load_all(".")
svy_data %>%
dpash::bar_chart_stack(response, title = "Test", labels = "n", xlab = "Questions")
svy_data %>%
dpash::bar_chart_stack(var = response, title = "Test", labels = "n", xlab = "Questions")
devtools::load_all(".")
svy_data %>%
dpash::bar_chart_stack(var = response, title = "Test", labels = "n", xlab = "Questions")
devtools::load_all(".")
svy_data %>%
dpash::bar_chart_stack(var = response, title = "Test", labels = "n", xlab = "Questions")
devtools::load_all(".")
svy_data %>%
dpash::bar_chart_stack(var = response, title = "Test", labels = "n", xlab = "Questions")
svy_data %>%
dpash::bar_chart_stack(var = response, group_var = question, title = "Test", labels = "n", xlab = "Questions")
svy_data %>%
dpash::bar_chart_stack(var = response, group_var = question)
svy_data %>%
dpash::bar_chart_stack(var = response, group_var = question) +
coord_flip()
bar_chart_counts
data("mtcars")
devtools::load_all(".")
data("mtcars")
t <- data("mtcars")
t %>% glimpse()
pacman::p_load(tidyverse)
t %>% glimpse()
mtcars %>% glimpse()
dpash::tabyl_ms_stacked_bar(mpg, cyl)
library(dpash)
dpash::tabyl_ms_stacked_bar(mpg, cyl)
pacman::p_load(janitor)
dpash::tabyl_ms_stacked_bar(mpg, cyl)
dpash::tabyl_ms_stacked_bar(mtcars, mpg, cyl)
tabyl_perc <- dat %>%
tabyl(!! var1, !! var2) %>%
adorn_percentages("row") %>%
adorn_totals("col") %>%
adorn_pct_formatting(digits = 0, affix_sign = TRUE) %>%
mutate_all(as.character)
tabyl_numbers <- dat %>%
tabyl(!! var1, !! var2) %>%
adorn_totals("col") %>%
mutate_all(as.character) %>%
rename_at(vars(-c(!! var1)), funs(paste0(., "_num")))
devtools::load_all(".")
mtcars %>% glimpse()
pacman::p_load(janitor)
dpash::tabyl_ms_stacked_bar(mtcars, mpg, cyl)
tabyl(mtcars, mpg, cyl)
tabyl(mtcars, mpg, cyl) %>%
adorn_percentages("row")
tabyl(mtcars, mpg, cyl) %>%
adorn_percentages("row") %>%
adorn_totals("col")
tabyl(mtcars, mpg, cyl) %>%
adorn_percentages("row") %>%
adorn_totals("row")
devtools::load_all(".")
source('C:/Users/dustin.pashouwer/Desktop/bar_chart_stacked_test.R')
# Load packages - first pacman, installing if necessary, then others
if (!require("pacman")) install.packages("pacman"); library(pacman)
p_load(devtools, readxl, janitor, tidyverse, tidymodels, lubridate)
# Load formidabler
if(!require("formidabler")) devtools::install_github("dpashouwer/formidabler", force = TRUE); p_load(formidabler)
# test form
test_form <- formidabler::pull_entries(url = "https://tntp.me/fresno/wp-json/frm/v2/forms/24/",
my_username = "dustin.pashouwer@tntp.org",
my_password = "Y%kP&f40bJW$l%u4XNOg#kLJ")
# Fresno
fresno_raw_entries <- formidabler::pull_entries(url = "https://tntp.me/fresno/wp-json/frm/v2/forms/8/",
my_username = "dustin.pashouwer@tntp.org",
my_password = "Y%kP&f40bJW$l%u4XNOg#kLJ")
# Fayette
fayette_raw_entries <- formidabler::pull_entries(url = "https://tntpapps.com/fcps/wp-json/frm/v2/forms/29/",
my_username = "alexandra.mcpherson@tntp.org",
my_password = "ggGaQHkZ5hnYsOS34FM(3$Uy")
# Brevard
brevard_raw_entries <- pull_entries("https://tntpapps.com/pfin/wp-json/frm/v2/forms/35/", "alexandra.mcpherson@tntp.org", "ggGaQHkZ5hnYsOS34FM(3$Uy")
brevard_raw_entries
source('~/BitBucket/codebank/Survey Tools/formidabler example - pull_entries().R')
source('C:/Users/dustin.pashouwer/Desktop/bar_chart_stacked_test.R')
svy_data
svy_data %>%
dpash::bar_chart_stack(var = response, group_var = question) +
coord_flip()
svy_data %>%
bar_chart_counts()
svy_data %>%
bar_chart_counts(response)
svy_data %>%
bar_chart_counts(response, question)
svy_data %>%
bar_chart_counts(response, question)
svy_data %>%
dpash::bar_chart_stack(var = response, group_var = question) +
coord_flip()
svy_data %>%
bar_chart_counts(response, question)
svy_data %>%
dpash::bar_chart_stack(var = response, group_var = question) +
coord_flip()
svy_data %>%
tntpr::bar_chart_counts(response, question)
svy_data %>%
dpash::bar_chart_stack(var = response, group_var = question) +
coord_flip()
svy_data %>%
dpash::bar_chart_stack(var = response, group_var = question)
devtools::load_all(".")
svy_data %>%
dpash::bar_chart_stack(var = response, group_var = question)
devtools::install_git("https://tools.tntp.org/bitbucket/scm/ct/tntpr.git")
devtools::install_github("dpashouwer/dpash")
devtools::install_github("dpashouwer/dpash", force = TRUE)
if (!require("dpash")) devtools::install_github("dpashouwer/dpash"); library(dpash)
if(!require("tntpr")) devtools::install_git("https://tools.tntp.org/bitbucket/scm/ct/tntpr.git"); p_load(tntpr)
p_load(tidyverse, janitor, httr, stringr, jsonlite, lubridate, mschart, officer, here)
obs_data <- read_csv("~/BitBucket/florida-hub/academics/Brevard Walk-throughs/data/clean/obs_data_2018-10-22 08.32.csv")
svy_data <- obs_data %>%
gather(question, response, culture_1_expect:culture_6_redirect) %>%
select(question, response) %>%
filter(!is.na(question), !is.na(response))
svy_data %>%
tntpr::bar_chart_counts(response, question)
svy_data %>%
dpash::bar_chart_stack(var = response, group_var = question)
svy_data <- obs_data %>%
gather(question, response, culture_1_expect:culture_6_redirect) %>%
select(question, response) %>%
filter(!is.na(question), !is.na(response))
svy_data %>%
tntpr::bar_chart_counts(response, question)
svy_data %>%
tntpr::bar_chart_counts(response, question)
svy_data
svy_data %>%
tntpr::bar_chart_counts(response, question)
svy_data %>%
dpash::bar_chart_stack(var = response, group_var = question)
svy_data %>%
dpash::bar_chart_stack(var = response, group_var = question) +
coord_flip()
svy_data %>%
dpash::bar_chart_stack(var = response, group_var = question, labels = "num") +
coord_flip()
svy_data %>%
dpash::bar_chart_stack(var = response, group_var = question, labels = "n") +
coord_flip()
svy_data %>%
dpash::bar_chart_stack(var = response, group_var = question, labels = "n") +
coord_flip() +
ggtitle("Coooool")
tntpr::palette_tntp(
tntpr::palette_tntp
svy_data %>%
dpash::bar_chart_stack(var = response, group_var = question, labels = "pct") +
coord_flip() +
ggtitle("Coooool")
# Load packagaes
if (!require("pacman")) install.packages("pacman"); library(pacman)
if (!require("formidabler")) devtools::install_github("dpashouwer/formidabler"); library(formidabler)
if (!require("dpash")) devtools::install_github("dpashouwer/dpash"); library(dpash)
if(!require("tntpr")) devtools::install_git("https://tools.tntp.org/bitbucket/scm/ct/tntpr.git"); p_load(tntpr)
p_load(tidyverse, janitor, httr, stringr, jsonlite, lubridate, mschart, officer, here)
data.frame(year = c(2012:2017),
pop = c(1000, 1100, 1200, 1300, 1400)
)
data.frame(year = c(2012:2017),
pop = c(1000, 1100, 1200, 1300, 1400, 1500)
)
dat <- data.frame(year = c(2012:2017),
pop = c(1000, 1100, 1200, 1300, 1400, 1500))
lm(data = dat, pop ~ year)
dat <- data.frame(year = c(2012:2017),
pop = c(1383194, 1409000, 1436723, 1469824, 1492494, 1511913))
lm(data = dat, pop ~ year)
dat <- data.frame(year = c(1:6),
pop = c(1383194, 1409000, 1436723, 1469824, 1492494, 1511913))
lm(data = dat, pop ~ year)
devtools::document()
library(dpash)
pacman::p_load()
pacman::p_load(tidyverse, hrbrthemes)
hrbrthemes
hrbrthemes::ipsum()
hrbrthemes::ipsum
tntpr::theme_tntp
data("mtcars")
mtcars %>% glimpse()
mtcars %>%
ggplot(aes(x = factor(cyl), y = mpg)) %>%
geom_bar()
mtcars %>%
ggplot(aes(x = factor(cyl), y = mpg)) +
geom_bar()
mtcars %>%
ggplot(aes(x = factor(cyl), y = mpg)) +
geom_bar(stat = "identity")
mtcars %>%
ggplot(aes(x = factor(cyl), y = mpg)) +
geom_bar(stat = "identity") +
theme_tntp()
pacman::p_load(tidyverse, hrbrthemes, tntpr)
mtcars %>%
ggplot(aes(x = factor(cyl), y = mpg)) +
geom_bar(stat = "identity") +
theme_tntp()
mtcars %>%
ggplot(aes(x = factor(cyl), y = mpg)) +
geom_bar(stat = "identity") +
theme_ipsum()
mtcars %>%
ggplot(aes(x = factor(cyl), y = mpg)) +
geom_bar(stat = "identity") +
theme_ipsum_ps()
mtcars %>%
ggplot(aes(x = factor(cyl), y = mpg)) +
geom_bar(stat = "identity") +
theme_ipsum()
mtcars %>%
ggplot(aes(x = factor(cyl), y = mpg)) +
geom_bar(stat = "identity") +
theme_modern_rc()
mtcars %>%
ggplot(aes(x = factor(cyl), y = mpg)) +
geom_bar(stat = "identity") +
theme_modern()
mtcars %>%
ggplot(aes(x = factor(cyl), y = mpg)) +
geom_bar(stat = "identity") +
theme_ipsum_rc()
?theme_ipsum
mtcars %>% glimpse()
mtcars %>%
ggplot(aes(x = factor(cyl), y = mpg)) +
geom_bar(stat = "identity") +
theme_ipsum()
mtcars %>%
ggplot(aes(x = wt, y = mpg)) +
geom_point() +
theme_ipsum()
mtcars %>%
ggplot(aes(x = factor(cyl), y = mpg)) +
geom_bar() +
theme_ipsum()
mtcars %>%
ggplot(aes(x = factor(cyl), y = mpg)) +
geom_bar(stat = "identity") +
theme_ipsum()
mtcars %>% glimpse()
mtcars %>%
ggplot(aes(x = factor(cyl), y = factor(carb), fill = carb)) +
geom_bar(stat = "identity") +
theme_ipsum()
mtcars %>%
ggplot(aes(x = factor(cyl), y = factor(carb), fill = carb)) +
geom_bar(stat = "identity", position_fill()) +
theme_ipsum()
mtcars %>%
ggplot(aes(x = factor(cyl), y = factor(carb), fill = carb)) +
geom_bar(stat = "identity", position = position_fill()) +
theme_ipsum()
mtcars %>%
ggplot(aes(x = factor(cyl), y = factor(carb), fill = carb)) +
geom_bar(stat = "identity", aes(position = position_fill())) +
theme_ipsum()
mtcars %>%
ggplot(aes(x = factor(cyl), y = factor(carb), fill = carb)) +
geom_bar(stat = "identity", aes(position = "fill")) +
theme_ipsum()
pacman::p_load(tidyverse, hrbrthemes, tntpr)
mtcars %>% glimpse()
mtcars %>%
ggplot(aes(x = factor(cyl), y = factor(carb), fill = carb)) +
geom_bar(stat = "identity", aes(position = "fill")) +
theme_ipsum()
mtcars %>%
ggplot(aes(x = factor(cyl), y = factor(carb), fill = carb)) +
geom_bar(stat = "identity", aes(position = "fill")) +
theme_ipsum() +
scale_color_ipsum()
ggplot(aes(x = factor(cyl), y = mgp) +
ggplot(aes(x = factor(cyl), y = mpg) +
geom_bar(stat = "identity") +
mtcars %>%
data(mtcars)
mtcars %>% glimpse()
mtcars %>%
mtcars %>%
ggplot(aes(x = factor(cyl), y = mpg)) +
geom_bar(stat = "identity") +
theme_ipsum() +
scale_color_ipsum()
mtcars %>%
ggplot(aes(x = factor(cyl), y = mpg)) +
geom_bar(stat = "identity") +
theme_ipsum() +
scale_color_ipsum()
mtcars %>%
ggplot(aes(x = factor(cyl), y = mpg)) +
geom_bar(stat = "identity") +
theme_ipsum() +
scale_color_ipsum()
mtcars %>%
ggplot(aes(x = factor(cyl), y = mpg)) +
geom_bar(stat = "identity") +
theme_ipsum() +
scale_fill_ipsum()
mtcars %>% glimpse()
mtcars %>%
ggplot(aes(x = factor(cyl), y = factor(carb))) +
geom_bar(stat = "identity") +
theme_ipsum() +
scale_fill_ipsum()
mtcars %>%
ggplot(aes(x = factor(cyl), y = factor(carb), fill = carb)) +
geom_bar(stat = "identity") +
theme_ipsum() +
scale_fill_ipsum()
mtcars %>%
ggplot(aes(x = factor(cyl), y = carb, fill = carb)) +
geom_bar(stat = "identity") +
theme_ipsum() +
scale_fill_ipsum()
mtcars %>%
ggplot(aes(x = factor(cyl), y = carb, fill = carb)) +
geom_bar(stat = "identity") +
theme_ipsum()
mtcars %>%
ggplot(aes(x = factor(cyl), y = carb, fill = carb)) +
geom_bar(stat = "identity") +
theme_ipsum() +
scale_color_continuous()
#' tabyl_3way_long
#'
#' @param tabyl
#' @param var3
#'
#' @return
#' @export
#'
#' @examples
tabyl_3way_long <- function(tabyl, var3){
var1_name = rlang::sym(attributes(tabyl[[1]])$var_names$`row`)
var2_name = rlang::sym(attributes(tabyl[[1]])$var_names$`col`)
var3_name = rlang::sym(var3)
tabyl %>%
bind_rows(.id = var3) %>%
gather(!!var2_name, n, names(tabyl[[1]])[2]:last(names(tabyl[[1]]))) %>%
group_by(!!var3_name, !!var1_name) %>%
mutate(total = sum(n)) %>%
ungroup() %>%
mutate(pct = round(n / total, digits = 3)) %>%
select(-total) %>%
arrange(!!var3_name, !!var1_name)
}
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::load_all(".")
library(dpash)
dpash::tabyl_3way_long
devtools::document()
usethis::use_package(pacman)
usethis::use_package("pacman")
devtools::document()
usethis::use_package("RODBC")
devtools::document()
devtools::load_all(".")
usethis::use_package("rlang")
devtools::document()
library(dpash)
devtools::load_all(".")
library(dpash)
library(dpash)
rtools
